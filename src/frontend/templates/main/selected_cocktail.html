<head>
    <meta charset="UTF-8" />
    <title>{{ cocktail.Name }} ‚Äì Bar Roboter</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='main/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='main/selected_cocktail.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='pictures/sva-logo-2024nobackground.png') }}" type="image/png">
</head>

<body>
    <!-- Hauptlayout -->
    <div class="cocktail-detail-grid">
        <!-- Linke Spalte: Bild -->
        <div class="cocktail-image-column">
            {% if cocktail.Bild %}
                <img src="data:image/png;base64,{{ cocktail.Bild | b64encode | decode('utf-8') }}" alt="{{ cocktail.Name }}" class="cocktail-image" />
            {% else %}
                <img src="{{ url_for('static', filename='pictures/default-drink.png') }}" alt="Kein Bild" class="cocktail-image" />
            {% endif %}
        </div>

        <!-- Rechte Spalte: Infos -->
        <div class="cocktail-info-column">
            <h1 class="getr√§nketitel">{{ cocktail.Name }}</h1>
            <p><strong>ID:</strong> {{ cocktail.CocktailID }}</p>
            <p><strong>Beschreibung:</strong><br> {{ cocktail.Beschreibung or "Keine Beschreibung vorhanden." }}</p>

            {% if cocktail.ExtLink %}
                <p><strong>Externer Link:</strong><br>
                    <a href="{{ cocktail.ExtLink }}" target="_blank">{{ cocktail.ExtLink }}</a>
                </p>
            {% endif %}

            <p><strong>Verf√ºgbar:</strong> {{ "‚úÖ Ja" if cocktail.verfuegbar else "‚ùå Nein" }}</p>

            {% if zutaten %}
                <h2>Zutaten</h2>
                <ul>
                    {% for zutat in zutaten %}
                        <li>{{ zutat.Zutat }} ‚Äì {{ zutat.Menge }} ml</li>
                    {% endfor %}
                </ul>
            {% endif %}

            <!-- "Zubereiten"-Button -->
            <form method="post" action="{{ url_for('main.cocktail_detail', cocktail_name=cocktail.Name) }}">
                <button type="submit" class="zubereiten-button">üîÑ Zubereiten</button>
            </form>

            <!-- "Zur√ºck"-Button -->
            <div style="margin-top: 20px;">
                <a href="{{ url_for('main.main') }}" class="zurueck-button">‚Üê Zur√ºck zur √úbersicht</a>
            </div>
        </div>
    </div>

    <!-- Ausgabe der Sequenz -->
    {% if sequence %}
        <div class="dispense-sequence">
            <h2>Mix-Sequenz:</h2>
            <ol>
                {% for step in sequence %}
                    <li>
                        <strong>{{ step.type|capitalize }}</strong>: {{ step.action }}
                        {{ step.details.amount }} ml {{ step.details.liquid }}
                        {% if step.type == 'pump' %}
                            (Kanal {{ step.details.pwm_channel }})
                        {% elif step.type == 'servo' %}
                            ({{ step.details.steps }} Schritte)
                        {% endif %}
                        {% if step.time_delay %}
                            ‚Äì Wartezeit: {{ step.time_delay }}s
                        {% endif %}
                    </li>
                {% endfor %}
            </ol>
        </div>
    {% endif %}
</body>
